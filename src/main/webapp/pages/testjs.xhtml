<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:jsf="http://xmlns.jcp.org/jsf">

<head>
<title>HTML(5) Friendly Markup in JSF 2.2</title>
</head>
<body>

	<div id="out"></div>
	<form jsf:id="myForm" jsf:prependId="false">
		<button onclick="geoFindMe()">Show my location</button>
		<input type="hidden" name="ID" value="'+id+'"/>
	</form>
	<button onclick="geoFindMe()">Show my location</button>
	
	<script>
		function geoFindMe() {
			var output = document.getElementById("out");

			if (!navigator.geolocation) {
				output.innerHTML = "<p>Geolocation is not supported by your browser</p>";
				return;
			}

			function success(position) {
				alert('caca');
				var latitude = position.coords.latitude;
				var longitude = position.coords.longitude;

				output.innerHTML = '<p>Latitude is ' + latitude
						+ '° Longitude is ' + longitude + '°</p>';

			}

			function error() {
				output.innerHTML = "Unable to retrieve your location";
			}

			output.innerHTML = "<p>Locating…</p>";

			navigator.geolocation.getCurrentPosition(success, error);
		}
	</script>

</body>
</html>
